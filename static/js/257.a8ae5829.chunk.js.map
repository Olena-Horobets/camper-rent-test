{"version":3,"file":"static/js/257.a8ae5829.chunk.js","mappings":"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","sources":["webpack://camper-rent-test/./src/components/Button/Button.module.css?ce6f","components/Button/index.jsx","webpack://camper-rent-test/./src/components/CampersList/CampersList.module.css?8b16","components/CampersList/index.jsx","webpack://camper-rent-test/./src/pages/FavouritesPage/FavouritesPage.module.css?5832","pages/FavouritesPage/index.jsx","store/campers/selectors.js","store/filter/selectors.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Button_btn__RBtNK\",\"cardBtn\":\"Button_cardBtn__QdIvs Button_btn__RBtNK\",\"filterBtn\":\"Button_filterBtn__rzBZg Button_btn__RBtNK\",\"formBtn\":\"Button_formBtn__wPHoE Button_btn__RBtNK\",\"loadMoreBtn\":\"Button_loadMoreBtn__bhrx+ Button_btn__RBtNK\"};","import s from './Button.module.css';\n\nexport default function Button({ type, text, className, onClick }) {\n  return (\n    <button type={type} onClick={onClick ?? onClick} className={s[className]}>\n      {text}\n    </button>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"listWrapper\":\"CampersList_listWrapper__43lH5\",\"list\":\"CampersList_list__Qx+9S\",\"card\":\"CampersList_card__t5Cpe\",\"cardImg\":\"CampersList_cardImg__3sRBB\",\"cardContent\":\"CampersList_cardContent__JI3MO\",\"cardHeader\":\"CampersList_cardHeader__6B+lN\",\"cardHeaderWrapper\":\"CampersList_cardHeaderWrapper__v-K6v\",\"cardFavBtn\":\"CampersList_cardFavBtn__bFr+S\",\"cardSubHeader\":\"CampersList_cardSubHeader__9XtAx\",\"itemRatingIcon\":\"CampersList_itemRatingIcon__oYPSp\",\"itemRating\":\"CampersList_itemRating__G-0eB\",\"itemLocationIcon\":\"CampersList_itemLocationIcon__5pBMg\",\"itemDesc\":\"CampersList_itemDesc__tbm0o\",\"itemDetails\":\"CampersList_itemDetails__833p8\",\"itemDetailsPoint\":\"CampersList_itemDetailsPoint__6sh6w\",\"itemDetailsText\":\"CampersList_itemDetailsText__tNdtn\",\"itemDetailsTextCapital\":\"CampersList_itemDetailsTextCapital__8IaOt CampersList_itemDetailsText__tNdtn\"};","import s from './CampersList.module.css';\nimport { ReactComponent as ReactSprite } from 'images/icons.svg';\n\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport {\n  selectFavoritesCampersIds,\n  selectIsLoading,\n} from 'store/campers/selectors';\nimport { getAllCampersAction, addToFavoriteAction } from 'store/campers/slice';\n\nimport Button from 'components/Button';\nimport { Loader } from 'components/Loader';\n\nexport default function CampersList({ campers }) {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const dispatch = useDispatch();\n\n  const favorites = useSelector(selectFavoritesCampersIds);\n  const isLoading = useSelector(selectIsLoading);\n\n  useEffect(() => {\n    dispatch(getAllCampersAction());\n  }, [dispatch]);\n\n  // action functions\n  const onOpenModalClick = id => {\n    document.querySelector('body').classList.add('bodyFixed');\n    navigate(`camper/${id}/features`, {\n      state: { background: location },\n    });\n  };\n\n  const onAddToFavClick = item => {\n    dispatch(addToFavoriteAction(item));\n  };\n\n  // helper functions\n  const normalizePrice = price =>\n    `â‚¬${price.slice(-9, -6)} ${price.slice(-6, -3)} ${price.slice(-3)},00`;\n\n  const isFavorite = id => favorites.find(el => el === id);\n\n  return (\n    <>\n      <ReactSprite />\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div className={s.listWrapper}>\n          <ul className={s.list}>\n            {campers.map(el => {\n              return (\n                <li key={el._id} className={s.card}>\n                  <img\n                    className={s.cardImg}\n                    src={el.gallery[0]}\n                    alt={el.name}\n                    width=\"290px\"\n                  ></img>\n\n                  <div className={s.cardContent}>\n                    <div className={s.cardHeader}>\n                      <h2 className={s.itemName}>{el.name}</h2>\n                      <span className={s.cardHeaderWrapper}>\n                        <span className={s.itemPrice}>\n                          {normalizePrice(String(el.price))}\n                        </span>\n\n                        <button\n                          className={s.cardFavBtn}\n                          onClick={() => onAddToFavClick(el._id)}\n                        >\n                          <svg width=\"24\" height=\"24\">\n                            <use\n                              href={\n                                isFavorite(el._id)\n                                  ? '#icon-heart-full'\n                                  : '#icon-heart-empty'\n                              }\n                            ></use>\n                          </svg>\n                        </button>\n                      </span>\n                    </div>\n\n                    <div className={s.cardSubHeader}>\n                      <svg width=\"16\" height=\"16\" className={s.itemRatingIcon}>\n                        <use href=\"#icon-star\"></use>\n                      </svg>\n                      <span className={s.itemRating}>\n                        {el.rating} ({el.reviews?.length || 0} Reviews)\n                      </span>\n                      <svg\n                        width=\"16\"\n                        height=\"16\"\n                        className={s.itemLocationIcon}\n                      >\n                        <use href=\"#icon-location\"></use>\n                      </svg>\n                      <span className={s.itemLocation}>{el.location}</span>\n                    </div>\n\n                    <p className={s.itemDesc}>{el.description}</p>\n\n                    <h3 className=\"visuallyHidden\">Vehicle details</h3>\n                    <ul className={s.itemDetails}>\n                      <li className={s.itemDetailsPoint}>\n                        <svg\n                          width=\"20\"\n                          height=\"20\"\n                          className={s.itemDetailsIcon}\n                        >\n                          <use href=\"#icon-Adults\"></use>\n                        </svg>\n                        <span className={s.itemDetailsText}>\n                          {el.adults} adults\n                        </span>\n                      </li>\n                      <li className={s.itemDetailsPoint}>\n                        <svg\n                          width=\"20\"\n                          height=\"20\"\n                          className={s.itemDetailsIcon}\n                        >\n                          <use href=\"#icon-transmission\"></use>\n                        </svg>\n                        <span className={s.itemDetailsTextCapital}>\n                          {el.transmission}\n                        </span>\n                      </li>\n                      <li className={s.itemDetailsPoint}>\n                        <svg\n                          width=\"20\"\n                          height=\"20\"\n                          className={s.itemDetailsIcon}\n                        >\n                          <use href=\"#icon-engine\"></use>\n                        </svg>\n                        <span className={s.itemDetailsTextCapital}>\n                          {el.engine}\n                        </span>\n                      </li>\n                      {el.details.kitchen && (\n                        <li className={s.itemDetailsPoint}>\n                          <svg\n                            width=\"20\"\n                            height=\"20\"\n                            className={s.itemDetailsIcon}\n                          >\n                            <use href=\"#icon-Kitchen\"></use>\n                          </svg>\n                          <span className={s.itemDetailsText}>Kitchen</span>\n                        </li>\n                      )}\n                      <li className={s.itemDetailsPoint}>\n                        <svg\n                          width=\"20\"\n                          height=\"20\"\n                          className={s.itemDetailsIcon}\n                        >\n                          <use href=\"#icon-beds\"></use>\n                        </svg>\n                        <span className={s.itemDetailsText}>\n                          {el.details.beds} beds\n                        </span>\n                      </li>\n                      {el.details.airConditioner && (\n                        <li className={s.itemDetailsPoint}>\n                          <svg\n                            width=\"20\"\n                            height=\"20\"\n                            className={s.itemDetailsIcon}\n                          >\n                            <use href=\"#icon-AC\"></use>\n                          </svg>\n                          <span className={s.itemDetailsText}>AC</span>\n                        </li>\n                      )}\n                    </ul>\n                    <Button\n                      type=\"button\"\n                      onClick={() => onOpenModalClick(el._id)}\n                      className=\"cardBtn\"\n                      text=\"Show more\"\n                    />\n                  </div>\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n      )}\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"favPage\":\"FavouritesPage_favPage__1jiEv\"};","import s from './FavouritesPage.module.css';\n\nimport { useSelector } from 'react-redux';\nimport { Outlet } from 'react-router-dom';\n\nimport CampersList from 'components/CampersList';\nimport { selectFavoritesCampers } from 'store/campers/selectors';\n\nfunction FavouritesPage() {\n  const campers = useSelector(selectFavoritesCampers);\n\n  return (\n    <div className={s.favPage}>\n      <CampersList campers={campers} />\n\n      <Outlet />\n    </div>\n  );\n}\n\nexport default FavouritesPage;\n","import { createSelector } from '@reduxjs/toolkit';\nimport {\n  selectIsSetFilter,\n  selectLocationFilter,\n} from 'store/filter/selectors';\n\nexport const selectAllCampers = state => state.campers.items;\n\nexport const selectVisibleCampers = state => state.campers.visibleItems;\n\nexport const selectFavoritesCampersIds = state => state.campers.favorites;\n\nexport const selectIsLoading = state => state.campers.isLoading;\n\nexport const selectIsLastPage = state => state.campers.isLastPage;\n\nexport const selectFavoritesCampers = createSelector(\n  [selectAllCampers, selectFavoritesCampersIds],\n  (campers, ids) => {\n    return ids.map(el => campers.find(camper => camper._id === el));\n  }\n);\n\nexport const selectFilteredCampers = createSelector(\n  [selectAllCampers, selectLocationFilter, selectVisibleCampers],\n  (campers, location, visible) => {\n    if (location) {\n      return campers.filter(el => {\n        return el.location.toLowerCase().includes(location.toLocaleLowerCase());\n      });\n    } else {\n      return visible;\n    }\n  }\n);\n\nexport const isLoadMoreShown = createSelector(\n  [selectIsLastPage, selectIsSetFilter],\n  (isLastPage, isFilter) => {\n    return !isLastPage && !isFilter;\n  }\n);\n","export const selectLocationFilter = state => state.filter.location;\n\nexport const selectIsSetFilter = state => {\n  return (\n    state.filter.location ||\n    state.filter.type.length ||\n    state.filter.details.length\n  );\n};\n"],"names":["Button","_ref","type","text","className","onClick","_jsx","s","children","CampersList","campers","navigate","useNavigate","location","useLocation","dispatch","useDispatch","favorites","useSelector","selectFavoritesCampersIds","isLoading","selectIsLoading","useEffect","getAllCampersAction","_jsxs","_Fragment","ReactSprite","Loader","map","el","_el$reviews","id","price","src","gallery","alt","name","width","String","concat","slice","onAddToFavClick","item","_id","addToFavoriteAction","height","href","find","rating","reviews","length","description","adults","transmission","engine","details","kitchen","beds","airConditioner","document","querySelector","classList","add","state","background","onOpenModalClick","selectFavoritesCampers","Outlet","selectAllCampers","items","createSelector","ids","camper","selectFilteredCampers","selectLocationFilter","visibleItems","visible","filter","toLowerCase","includes","toLocaleLowerCase","isLoadMoreShown","isLastPage","selectIsSetFilter","isFilter"],"sourceRoot":""}